{"version":3,"sources":["webpack:///./js/searchPixaBuy.js","webpack:///./js/main.js","webpack:///./template/gallery.hbs"],"names":["SearchPixaBuy","APIkey","template","update_templateString","_currentPage","fetch","_templateString","response","json","data","imageView","scroolToEnd","this","_APIkey","_searchQuery","_per_page","_image_type","galleryList","hits","document","querySelector","innerHTML","scrollHeight","Math","max","body","documentElement","offsetHeight","clientHeight","window","scrollTo","top","behavior","value","fetchToPixabuy","searchImagesform","searchPixaBuy","template_galleryList","addEventListener","event","preventDefault","searchQuery","elements","query","console","log","target","className","basicLightbox","dataset","largeimage","show","Handlebars","module","exports","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.f41dfe7f4e865df8bbcd.js","sourcesContent":["class SearchPixaBuy {\r\n  constructor(APIkey, template) {\r\n    this._APIkey = APIkey;\r\n    this._searchQuery = '';\r\n    this._currentPage = 0;\r\n    this._per_page = 10;\r\n    this._image_type = 'photo';\r\n    this.template = template;\r\n\r\n    this._templateString = null;\r\n  }\r\n\r\n  set searchQuery(value) {\r\n    if (this._searchQuery !== value) {\r\n      this._currentPage = 1;\r\n      let divGallery = document.querySelector('.divGallery');\r\n      divGallery.innerHTML = '';\r\n    }\r\n    this._searchQuery = value;\r\n    this.fetchToPixabuy();\r\n  }\r\n\r\n  update_templateString() {\r\n    this._templateString = `https://pixabay.com/api/?image_type=${this._image_type}&orientation=horizontal&q=${this._searchQuery}&page=${this._currentPage}&per_page=${this._per_page}&key=${this._APIkey}`;\r\n  }\r\n\r\n  fetchToPixabuy = async () => {\r\n    this.update_templateString();\r\n    this._currentPage += 1;\r\n    let response = await fetch(this._templateString);\r\n    let data = await response.json();\r\n    await this.imageView(data);\r\n    this.scroolToEnd();\r\n  };\r\n\r\n  imageView(data) {\r\n    let galleryList = this.template(data.hits);\r\n    let divGallery = document.querySelector('.divGallery');\r\n    divGallery.innerHTML += galleryList;\r\n  }\r\n\r\n  scroolToEnd() {\r\n    const scrollHeight = Math.max(\r\n      document.body.scrollHeight,\r\n      document.documentElement.scrollHeight,\r\n      document.body.offsetHeight,\r\n      document.documentElement.offsetHeight,\r\n      document.body.clientHeight,\r\n      document.documentElement.clientHeight,\r\n    );\r\n\r\n    window.scrollTo({\r\n      top: scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n}\r\n\r\nexport default SearchPixaBuy;\r\n","import SearchPixaBuy from '../js/searchPixaBuy.js';\r\nimport template_galleryList from '../template/gallery.hbs';\r\nimport * as basicLightbox from 'basiclightbox';\r\n\r\nconst searchImagesform = document.querySelector('#search-form');\r\n\r\nconst searchPixaBuy = new SearchPixaBuy(\r\n  '20996024-19aac0cac2354f2b824e2c88f',\r\n  template_galleryList,\r\n);\r\n\r\nsearchImagesform.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n  searchPixaBuy.searchQuery = searchImagesform.elements.query.value;\r\n});\r\n\r\ndocument.addEventListener('click', event => {\r\n  console.log('click');\r\n  console.log(event.target.className);\r\n\r\n  if (event.target.className == 'photo') {\r\n    console.log('photo');\r\n    const instance = basicLightbox.create(\r\n      `<img src=${event.target.dataset.largeimage}> `,\r\n    );\r\n    instance.show(() => console.log('lightbox now visible'));\r\n  }\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li>\\r\\n        <div class=\\\"photo-card\\\">\\r\\n            <img class=\\\"photo\\\" src=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \" alt=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"tags\") : depth0), depth0))\n    + \" data-largeImage=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \" />\\r\\n\\r\\n            <div class=\\\"stats\\\">\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">visibility</i>\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">comment</i>\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n                </p>\\r\\n            </div>\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"gallery\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":26,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}